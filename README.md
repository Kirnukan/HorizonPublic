# HorizonBackend

## Описание

`HorizonBackend` — это бэкенд-сервис для управления и поиска изображений.

## Установка



## Использование



2. - - ## Роуты:
    
        ### Получение изображений по семейству и группе
    
        - **URL**: `/{family}/{group}/`
        - **Метод**: `GET`
        - **Описание**: Возвращает изображения, соответствующие указанным семейству и группе.
    
        ### Получение изображения по семейству, группе и номеру
    
        - **URL**: `/{family}/{group}/{number}`
        - **Метод**: `GET`
        - **Описание**: Возвращает конкретное изображение на основе указанных семейства, группы и номера.
    
        ### Поиск изображений по ключевому слову и семейству
    
        - **URL**: `/search?keyword={keyword}&family={family}`
        - **Метод**: `GET`
        - **Описание**: Возвращает изображения, соответствующие ключевому слову и, при наличии, семейству.
    
        ### Получение наименее используемых изображений по семейству
    
        - **URL**: `/least-used?family={family}&count={count}`
        - **Метод**: `GET`
        - **Описание**: Возвращает указанное количество наименее используемых изображений для указанного семейства. Если параметр `count` отсутствует, по умолчанию возвращается 6 изображений.
    
        ### Сервировка статических изображений
    
        - **URL**: `/static/images/{filename}`
        - **Метод**: `GET`
        - **Описание**: Обеспечивает доступ к статическим файлам изображений, сохраненным на сервере.

## Код:

### `internal/service/image.go`

- **`NewImageService`**: Создает новый объект службы изображений.
- **`GetImagesByFamilyAndGroup`**: Возвращает изображения по указанным семейству и группе.
- **`SearchImages`**: Ищет изображения по ключевому слову и семейству.

### `internal/repository/postgres/image_repository.go`

- **`NewImageRepository`**: Создает новый репозиторий изображений.
- **`GetImagesByFamilyAndGroup`**: Выполняет запрос к базе данных для получения изображений по семейству и группе.
- **`SearchImagesByKeywordAndFamily`**: Выполняет запрос к базе данных для поиска изображений по ключевому слову и семейству.

### `internal/handler/images.go`

- **`GetImagesByFamilyAndGroup`**: Обработчик для возвращения изображений по семейству и группе.
- **`SearchImages`**: Обработчик для поиска изображений по ключевому слову и семейству.

### `cmd/server/router.go`

- **`NewRouter`**: Создает и возвращает новый роутер с зарегистрированными обработчиками.

### `cmd/server/main.go`

- **`main`**: Главная точка входа в приложение. Загружает конфигурацию, устанавливает соединение с базой данных и запускает скрипты.

